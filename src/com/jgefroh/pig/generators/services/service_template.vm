#set ($modelName = $model.name.toString())
/*
 * Autogenerated by PIG.
 * @author Joseph Gefroh
 */
(function() {
    function ${modelName}Service(${FormatUtil.getDollarSign()}http) {
        var self = this;
        var endpoints = {
            get: function(id) {
                var originalURL = '../rest/$FormatUtil.pluralize(${modelName.toLowerCase()})/{id}';
                if (id) {
                    return originalURL.replace('{id}', id);
                }
                else {
                    return originalURL.replace('{id}', '');
                }
            },
            getAll: function() {
                return '../rest/$FormatUtil.pluralize(${modelName.toLowerCase()})/';
            },
            save: function() {
                return '../rest/$FormatUtil.pluralize(${modelName.toLowerCase()})/';
            },
            delete${modelName}: function(id) {
                var originalURL = '../rest/$FormatUtil.pluralize(${modelName.toLowerCase()})/delete/{id}';
                return originalURL.replace('{id}', id);
            }
        };
        
        function getAll() {
            return ${FormatUtil.getDollarSign()}http.get(endpoints.getAll());
        }

        this.getAll = function() {
            return getAll().then(function(response) {
                return response.data;
            });
        };


        function get(id) {
            return ${FormatUtil.getDollarSign()}http.get(endpoints.get(id));
        }

        this.get = function(id) {
            return get(id).then(function(response) {
                return response.data;
            });
        };


        function save(${FormatUtil.camelCase(${modelName})}) {
            return ${FormatUtil.getDollarSign()}http.put(endpoints.save(), $modelName.toLowerCase());
        }

        this.save${modelName} = function(${modelName.toLowerCase()}) {
            return save(${FormatUtil.camelCase(${modelName})}).then(function(response) {
                return response.data;
            });
        };


        function delete${modelName}(id) {
            return ${FormatUtil.getDollarSign()}http.delete(endpoints.delete(id));
        }

        this.delete${modelName} = function(id) {
            return delete${modelName}(id).then(function(response) {
                return response.data;
            });
        };

        
    }
    angular
        .module('${model.packageName.toString()}')
        .service('${modelName}Service', ['${FormatUtil.getDollarSign()}http', ${modelName}Service]);
})();
